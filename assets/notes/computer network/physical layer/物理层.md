# 物理层

##  接口特性

![img](assets/3ad4ae5cca244cf186ff627a5fda436a.png)

## 传输媒体

### 导引型媒体

#### 双绞线

- <font color=#1C7331>减少对相邻导线的电磁干扰</font>
- 应用于电话系统
- <font color=#1C7331>可模拟传输</font>
  - 延长通信距离需要**放大器**
- <font color=#1C7331>可数字传输</font>
  - 延长通信距离需要**中继器**
- 带宽依赖于**导线类型**和**距离**

##### UTP

非屏蔽双绞线（Unshielded Twisted Pair）

##### STP

屏蔽双绞线（Shielded Twisted Pair）

![img](assets/4e9423e4c50b42cd9e39481c64e6dbf1.png)

- 仅**7类线**为STP

#### 同轴电缆

- 基带同轴电缆
  - 50Ω
  - **数字传输**
- 宽带同轴电缆
  - 75Ω
  - **模拟传输**和**有线电视传输**

#### 光纤

- 多模光纤
  - 允许多条光线在光纤内全反射传播
  - <font color=#BE191C>存在长距离失真</font>，一般用于**短距离传输**
  - <font color=#1C7331>便宜</font>
  - <font color=#1C7331>对光源要求低</font>
    - LED即可
- 单模光纤 
  - 光纤直径与光的波长相近，光只能直线传输而不能折射
  - <font color=#1C7331>传输距离长</font>
  - <font color=#BE191C>贵</font>
  - <font color=#BE191C>对光源要求高</font>
    - 必须使用半导体激光器
  - 接收端采用光电二极管

![img](assets/c9e8b7dffe5e4dd68486a0e0b62e139c.png)

光纤相较于传统铜导线

- <font color=#1C7331>带宽高</font>
- <font color=#1C7331>衰减小</font>
- <font color=#1C7331>轻</font>
- <font color=#BE191C>安装要求高</font>
- <font color=#BE191C>弯折易损坏</font>
- <font color=#BE191C>单光纤不能双工通信</font>
- <font color=#BE191C>成本高</font>

### 非导引型媒体

![img](assets/4133e954439d4ef68c893eca55153db3.png)

- 无线电传输
  - 低频全方向传播，穿透性好
  - 高频直线传播，穿透性差
- 微波传输
  - 直线传播，穿透性差
- 红外传输
  - 距离短，不能穿越固体
- 光通信
  - 距离和稳定性受大气条件影响

## 设备

- 中继器：延长信号传播长度
- 集线器：RJ45接口，无碰撞检测

## 数据通信理论

- 模拟信号：连续信号，参数取值是连续的
- 数字信号：离散信号，参数取值是离散的

------

- 单向通信：单工通信
- 双向交替通信：半双工通信
- 双向同时通信：全双工通信

------

- 信源编码器/解码器：信息数字化及逆过程
- 加密器/解密器：信息传输前加密，收到后解密
- 信道编码器/解码器：检测纠正错误

------

Fourier变换：将时域信号和分解为频域信号

------

### 信道极限容量

![img](assets/fdd5d0496c7f49bcb1c8993adddb2dc9.png)

（模拟）带宽：信道能够通过的<font color=#956FE7>**频率范围**</font>，单位Hz

- 频率在带宽内的波振幅不会**显著**衰减 	

  - 高频显著衰减磨平了数字信号的上下沿，出现码间串扰
  - 即使频率在带宽内，多少也有损耗
  
- 约定0到能量衰减50%的频率为带宽

比特率（数字带宽）：信道的<font color=#956FE7>**最大传输速率**</font>，单位bit/s

波特率：每秒传输的<font color=#956FE7>**信号数**</font>，单位Baud

- 记信号等级数为$L$，那么一个信号需要$\log_2L$位编码
- $比特率=波特率 \times \log_2L$

基带信号：频率从0到带宽的信号

通带信号：频率在基带信号的基础上作一次偏移

#### Nyquist定理

采样频率问题：对于通过了**带宽为B**的低通滤波器的复合信号，**还原信号**需要采样达到多少频率

- 理想**无噪声**
- 适用于**所有传输介质**

$$
frequency\ of\ sample = 2B
$$

$$
digital\ bandwidth = 2B \log_2V
$$

- V为离散等级数

#### Shannon定理

##### 信噪比SNR

- S：信号平均功率
- N：噪声平均功率

$$
SNR = 10 \log_{10} \dfrac{S}{N}
$$

- 单位dB

##### Shannon公式

$$
digital\ bandwidth = B \log_2\left(1+\dfrac{S}{N}\right)
$$

### 数字调制技术

将数字信号变为模拟信号

设备：调制器/解调器

- 低频和直流分量的处理 
  - <font color=#956FE7>大多数信道承载的是**模拟信号**</font>

#### 基带传输

数字数据的数字传输，直接用数字信号传输

- 信号将占据0到带宽的所有频率（Fourier变换结果）

##### 基带调制

把数字信号变成当前信道可用的数字信号，又称编码

###### 提高数据传输率方法

- <font color=#4DA8EE>增大**离散等级数**</font>
- <font color=#4DA8EE>增大**信号时钟频率**</font>
  - 时钟同步：接收器必须能够分清两个符号的分界

###### 常见基带调制方式

- <font color=#956FE7>**不归零编码NRZ**</font>：正电平为1，负电平为0

  - <font color=#BE191C>不能自同步</font>，除非同时传时钟信号（效率低）

- <font color=#956FE7>**归零编码RZ**</font>：正电平为1，负电平为0，<font color=#4DA8EE>**每个bit周期结束前都归零**</font>

  - <font color=#1C7331>可自同步</font>

- <font color=#956FE7>**不归零逆转编码NRZI**</font>：信号<font color=#4DA8EE>**有无跳变**</font>决定0或1

  - <font color=#BE191C>要避免发送多个连续的无跳变位</font>

- <font color=#956FE7>**Manchester编码**</font>：<font color=#4DA8EE>每个bit周期**中心**的**跳变方向**决定0或1</font>

  - <font color=#1C7331>可自同步</font>
  - <font color=#BE191C>编码效率低</font>
  
- <font color=#956FE7>**差分Manchester编码**</font>：<font color=#4DA8EE>每个bit周期**中心**都有用于**同步**的跳变</font>，<font color=#4DA8EE>**周期开始时**有跳变为0，无跳变为1</font>

  - <font color=#1C7331>可自同步</font>
- <font color=#1C7331>检测比Manchester编码容易</font>
  - <font color=#1C7331>信号被反转，bit信息保持不变</font>

- <font color=#956FE7>**双极编码AMI**</font>：<font color=#4DA8EE>相邻的1用不同的正负电平表示，0均为零电平</font>

  - <font color=#BE191C>不能自同步</font>
- <font color=#1C7331>是平衡码：短时间内正负电压时间相等</font>
    - <font color=#1C7331>**无直流分量**</font>

- <font color=#956FE7>**4B/5B编码**</font>：<font color=#4DA8EE>**用5位码唯一指定一个4位码**</font>，多出来的16种5位码可用于控制信号

  ![img](assets/4c43039b744e483d9d284536f7048650.png)

  - <font color=#1C7331>25%的低额外开销</font>
- <font color=#1C7331>最多只有连续3个0</font>

![img](assets/2a655251cd864b04af5fdf3d962dcf8c.png)

#### 通带传输

数字数据的模拟传输

##### 通带调制

分别调制波的振幅，频率，相位

- 振幅，频率，相位可结合调制
- 但是<font color=#956FE7>**频率，相位一般不结合**</font>（频率会影响相位）

![img](assets/1bb758baec4d4165bcae85ca892114a6.png)

###### 幅移键控ASK

不同振幅表示不同位

###### 频移键控FSK

不同频率表示不同位

###### 相移键控PSK

不同初相位表示不同位

- 二进制相移键控BPSK：初相位分别选为0和$\dfrac{\pi}{2}$
  - 每个符号可表示0或1
- 正交相移键控QPSK：初相位分别选为0、$\dfrac{\pi}{4}$、$\dfrac{2\pi}{4}$、$\dfrac{3\pi}{4}$
  - 每个符号可表示2bits

###### 正交调幅QAM

混合调制：ASK+PSK

![img](assets/d261985071984a7e8f51cfe38b144898.png)

![img](assets/16ff3195ce5645deb363bf0979d9e391.png)

![img](assets/bcad320103544996a4ad6021aa0acf48.png)

### 多路复用技术

设备：多路复用器/解复用器

#### 频分复用FDM

复用的所有用户同时占用<font color=#4DA8EE>**不同的模拟带宽**</font>资源

![img](assets/bc5aea28fb884d0f87df73474d080928.png)

#### 时分复用TDM

用户以循环方式轮转，<font color=#4DA8EE>周期性地获得**等长**的时间片</font>

![img](assets/8be4e9d8e9284da79a362d9da4c7491d.png)

- 统计时分复用STDM不是时分复用，不属于物理层，是包交换

#### 码分复用CDM

又称码分多址CDMA

1bit用m个码片发送，每个CDMA站点固定自身长为m的码片序列

- <font color=#4DA8EE>如果站点**发送1**，就发送自身码片**序列**</font>
- <font color=#4DA8EE>如果站点**发送0**，就发送自身码片**序列的反码**</font>

------

- <font color=#956FE7>不同站点的码片序列**正交**</font>
- <font color=#956FE7>码片序列的规格化内积为1（**内积为m**）</font>

------

- 如果X想从信道中接受Y的信号 
  - X必须先知道Y的码片序列
- <font color=#4DA8EE>用Y的码片序列与信道中信号做**规格化内积**（除以m）</font>
- 由于Y与其他码片序列正交，与对应序列反码也正交
- 规格化内积结果只剩下Y的信号 
  - 如果<font color=#4DA8EE>结果为1</font>，表明<font color=#4DA8EE>发送的是1</font>
  - 如果<font color=#4DA8EE>结果为-1</font>，表明<font color=#4DA8EE>发送的是0</font>

------

<font color=#1C7331>用户间无干扰，抗干扰能力强</font>

#### 波分复用WDM

利用光的不同波长在光纤上实现频分复用

![img](assets/1559c5db002f4f6096874677d71a74fb.png)

## 交换

消息的物理途径

- 电路交换
- 报文交换
- 分组交换

![img](assets/9d2075ca507f48b8b9c2fcee53cac5b8.png)

![img](assets/d9f34d23fc4749e2930c2af2091be3f5.png)

## 时延

- 处理时延：<font color=#956FE7>检查分组首部，决定将该分组导向何处</font>所需要的时间
- 排队时延：分组在链路上的队列中<font color=#956FE7>等待传输</font>所需要的时间
- 传输时延：将所有分组的比特<font color=#956FE7>推向链路</font>所需要的时间
- 传播时延：从该链路的<font color=#956FE7>起点到终点</font>所需要的时间

## 蜂窝网络

<font color=#956FE7>相邻的蜂窝频率不能相同</font>

![img](assets/4e3810ebba104967a7275f9473ce298d.png)